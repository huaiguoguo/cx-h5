(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1137:function(e,t,n){e.exports=n.p+"img/1711357.png"},1138:function(e,t,n){e.exports=n.p+"img/a3eb7af.png"},1176:function(e,t,n){var content=n(1261);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(49).default)("02fb86b6",content,!0,{sourceMap:!1})},1260:function(e,t,n){"use strict";var o=n(1176);n.n(o).a},1261:function(e,t,n){(e.exports=n(48)(!1)).push([e.i,"input[data-v-ff5c9f42] {\n  outline: none;\n  border: none;\n}\n.container[data-v-ff5c9f42] {\n  width: 100%;\n  height: 100%;\n  font-size: 0.266667rem;\n}\n.container body[data-v-ff5c9f42] {\n  box-sizing: border-box;\n}\n.container a[data-v-ff5c9f42] {\n  font-size: 0.333333rem;\n  color: red;\n}\n.container .header[data-v-ff5c9f42] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  height: 1.173333rem;\n  line-height: 1.173333rem;\n  font-size: 0.48rem;\n  font-weight: normal;\n  font-stretch: normal;\n  color: #333;\n  padding: 0.266667rem;\n}\n.container .header .goback[data-v-ff5c9f42] {\n  width: 0.213333rem;\n}\n.container .header .goback img[data-v-ff5c9f42] {\n  max-width: 100%;\n  max-height: 100%;\n}\n.container .header .avatar[data-v-ff5c9f42] {\n  width: 0.733333rem;\n}\n.container .header .pageName[data-v-ff5c9f42] {\n  margin-left: 0.213333rem;\n}\n.container .space-div[data-v-ff5c9f42] {\n  width: 100%;\n  height: 0.213333rem;\n}\n.container .info-list[data-v-ff5c9f42] {\n  padding: 0.266667rem;\n  margin-top: 0.266667rem;\n}\n.container .info-list .info-item[data-v-ff5c9f42] {\n  display: flex;\n  justify-content: space-between;\n  height: 1.066667rem;\n  line-height: 1.266667rem;\n  font-size: 0.32rem;\n  color: #999;\n  border-bottom: 0.013333rem solid #e8e8e8;\n  color: #666;\n}\n.container .info-list .info-item input[data-v-ff5c9f42] {\n  width: 6.666667rem;\n  margin-left: 0.133333rem;\n  font-size: 0.32rem;\n  caret-color: #1296db;\n}\n.container .info-list .info-item .item-right-img[data-v-ff5c9f42] {\n  width: 100%;\n}\n.container .info-list .info-item .item-right-img .getCode[data-v-ff5c9f42] {\n  display: block;\n  width: 100%;\n  height: 100%;\n  font-size: 0.333333rem;\n  text-align: center;\n  color: #00a8ff;\n}\n.container .info-list .notice[data-v-ff5c9f42] {\n  width: 100%;\n  color: red;\n  font-size: 0.306667rem;\n  margin-top: 0.066667rem;\n  margin-bottom: 0.266667rem;\n}\n.container .info-list .notice_b[data-v-ff5c9f42] {\n  width: 100%;\n  color: red;\n  font-size: 0.333333rem;\n  margin-top: 0.266667rem;\n  margin-bottom: 0.133333rem;\n}\n.container .btn-submit[data-v-ff5c9f42] {\n  margin: 1.866667rem auto 0 auto;\n  width: 5.24rem;\n  height: 0.893333rem;\n  line-height: 0.893333rem;\n  background-color: #00a8ff;\n  border-radius: 0.4rem;\n  color: #fff;\n  text-align: center;\n}\n.container .btn-submit span[data-v-ff5c9f42] {\n  width: 1.573333rem;\n  height: 0.386667rem;\n  font-family: PingFang-SC-Medium;\n  font-size: 0.4rem;\n  font-weight: normal;\n  font-stretch: normal;\n  letter-spacing: 0;\n  color: #ffffff;\n}",""])},1323:function(e,t,n){"use strict";n.r(t);n(256),n(50);var o={data:function(){return{marginTopObject:"",first:1,secondText:"获取验证码",second:0,timer:null,formData:{username:"",password:"",password2:"",code:""},changeType:0,changeTypeText:"手机或者邮箱",sendCodeUrl:"",changePwdUrl:"login/changePwd",sendCodeParam:null,responseErrorMsg:""}},vuerify:{"formData.username":[{test:function(e){return/^1(3|4|5|6|7|8|9)\d{9}$/.test(e)?(this.setChangeParam(1,e),!0):!!/^(([0-9a-zA-Z]+)|([0-9a-zA-Z]+[_.0-9a-zA-Z-]*[0-9a-zA-Z]+))@([a-zA-Z0-9-]+[.])+([a-zA-Z]{2}|net|NET|com|COM|gov|GOV|mil|MIL|org|ORG|edu|EDU|int|INT)$/.test(e)&&(this.setChangeParam(2,e),!0)},message:"请输入正确的手机号或邮箱"}],"formData.password":{test:/\S+/,message:"请输入新密码"},"formData.password2":{test:function(e){return e===this.formData.password},message:"两次密码输入不一致"},"formData.code":{test:/\S+/,message:"请输入验证码"}},computed:{regSecond:function(){return this.$store.state.user.regSecond},errors:function(){return this.$vuerify.$errors}},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){this.isIPhoneX(),this.$message.config({top:"300px",duration:2,maxCount:1})},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},methods:{isIPhoneX:function(){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);var e=/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&3===window.devicePixelRatio&&375===window.screen.width&&812===window.screen.height,t=/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&3===window.devicePixelRatio&&414===window.screen.width&&896===window.screen.height,n=/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&2===window.devicePixelRatio&&414===window.screen.width&&896===window.screen.height;(e||t||n)&&(this.marginTopObject="margin-top: 0.83rem;",this.float_cardStyle="top: 100px;")},ShowLeftNav:function(){this.leftNavStatus;this.$store.commit("user/setLeftNavStatus",1)},judge:function(e){return/^1(3|4|5|6|7|8|9)\d{9}$/.test(e)?(this.setChangeParam(1,e),!0):!!/^(([0-9a-zA-Z]+)|([0-9a-zA-Z]+[_.0-9a-zA-Z-]*[0-9a-zA-Z]+))@([a-zA-Z0-9-]+[.])+([a-zA-Z]{2}|net|NET|com|COM|gov|GOV|mil|MIL|org|ORG|edu|EDU|int|INT)$/.test(e)&&(this.setChangeParam(2,e),!0)},setChangeParam:function(e,t){this.changeTypeText="手机或者邮箱",this.changeType=e,1===e&&(this.changeTypeText="手机",this.sendCodeUrl="login/sendPhoneCode",this.sendCodeParam={phone:t}),2===e&&(this.changeTypeText="邮箱",this.sendCodeUrl="login/sendEmailCode",this.sendCodeParam={email:t})},getCode:function(){var e=this;return!!this.verify(["formData.username"])&&(!this.timer&&(this.judge(this.formData.username),!(!this.sendCodeUrl||!this.sendCodeParam)&&void this.$axios.post(this.sendCodeUrl,this.sendCodeParam).then((function(t){console.log("succ=============="),console.log(t),-1===t.data.status&&(e.responseErrorMsg=t.data.msg,e.$toast.center(t.data.msg)),1===t.data.status&&(e.$toast.center("发送成功"),e.countDown())})).catch((function(e){console.log("error================"),console.log(e)}))))},countDown:function(){var e=this;if(!this.timer){this.first=0;var t=Date.parse(new Date)/1e3;this.$store.state.user.editCipherEndTimestamp-60<t&&this.$store.commit("user/setEditCipherEndTimestamp",t+60),this.timer=setInterval((function(){var t=Date.parse(new Date)/1e3,text=e.$store.state.user.editCipherEndTimestamp-t+"秒后重发";e.$store.state.user.editCipherEndTimestamp>t&&e.$store.state.user.editCipherEndTimestamp>0?e.secondText=text:(clearInterval(e.timer),e.timer=null,e.secondText="重新获取",e.$store.commit("user/setEndTimestamp",0))}),1e3)}},verify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!!this.$vuerify.check(e)||(console.log(this.errors),!1)},changeSubmit:function(){var e=this;if(!this.verify())return!1;this.$axios.post(this.changePwdUrl,this.formData).then((function(t){console.log("succ=============="),console.log(t),1===t.data.status?(e.$toast.center("修改成功"),e.$store.commit("user/logout"),e.$router.push("/user/login")):(e.responseErrorMsg=t.data.msg,e.$toast.center(t.data.msg))})).catch((function(e){console.log("error================"),console.log(e)}))}}},r=(n(1260),n(37)),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("div",{staticClass:"header",style:e.marginTopObject},[o("div",{staticClass:"goback",on:{click:function(t){return e.$router.go(-1)}}},[o("img",{attrs:{src:n(1137)}})]),e._v(" "),o("div",{staticClass:"pageName"},[e._v("修改密码")]),e._v(" "),o("div",{staticClass:"avatar",on:{click:e.ShowLeftNav}},[o("img",{attrs:{src:n(1138),alt:""}})])]),e._v(" "),o("div",{staticClass:"space-div"}),e._v(" "),o("div",{staticClass:"info-list"},[o("div",{staticClass:"info-item"},[o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.username,expression:"formData.username"}],attrs:{type:"text",placeholder:"请输入邮箱/手机号",name:"moblie"},domProps:{value:e.formData.username},on:{input:function(t){t.target.composing||e.$set(e.formData,"username",t.target.value)}}})]),e._v(" "),o("div",{staticClass:"item-right-img"})]),e._v(" "),o("div",{staticClass:"notice"},[e._v(e._s(e.errors["formData.username"]&&e.errors["formData.username"][0]?e.errors["formData.username"][0]:"")+e._s(e.errors["formData.username"]&&e.errors["formData.username"][1]?e.errors["formData.username"][1]:""))]),e._v(" "),o("div",{staticClass:"info-item"},[o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],attrs:{type:"password",placeholder:"新密码",name:"moblie"},domProps:{value:e.formData.password},on:{input:function(t){t.target.composing||e.$set(e.formData,"password",t.target.value)}}})]),e._v(" "),o("div",{staticClass:"item-right-img"})]),e._v(" "),o("div",{staticClass:"notice"},[e._v(e._s(e.errors["formData.password"]))]),e._v(" "),o("div",{staticClass:"info-item"},[o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password2,expression:"formData.password2"}],attrs:{type:"password",placeholder:"重复新密码",name:"moblie"},domProps:{value:e.formData.password2},on:{input:function(t){t.target.composing||e.$set(e.formData,"password2",t.target.value)}}})]),e._v(" "),o("div",{staticClass:"item-right-img"})]),e._v(" "),o("div",{staticClass:"notice"},[e._v(e._s(e.errors["formData.password2"]))]),e._v(" "),o("div",{staticClass:"info-item"},[o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.code,expression:"formData.code"}],attrs:{type:"text",placeholder:"输入"+e.changeTypeText+"验证码",name:"code"},domProps:{value:e.formData.code},on:{input:function(t){t.target.composing||e.$set(e.formData,"code",t.target.value)}}})]),e._v(" "),o("div",{staticClass:"item-right-img"},[o("span",{staticClass:"getCode",on:{click:e.getCode}},[e._v(e._s(e.secondText))])])]),e._v(" "),o("div",{staticClass:"notice"},[e._v(e._s(e.errors["formData.code"]))]),e._v(" "),o("div",{staticClass:"btn-submit"},[o("span",{on:{click:e.changeSubmit}},[e._v("修改")])])])])}),[],!1,null,"ff5c9f42",null);t.default=component.exports}}]);